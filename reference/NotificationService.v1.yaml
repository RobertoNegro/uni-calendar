openapi: 3.0.0
info:
  title: NotificationService
  version: '1.0'
servers:
  - url: 'http://localhost:8084'
paths:
  /telegram:
    post:
      summary: Send a Telegram notification
      operationId: post-telegram
      description: 'Send a Telegram notification '
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TelegramNotification'
        description: ''
      responses:
        '200':
          description: OK
    parameters: []
  /telegram/bot:
    post:
      summary: Telegram BOT callback
      operationId: post-telegram-bot
      responses:
        '200':
          description: OK
      description: |-
        Used for the elaborations of the user inputs in the bot and generation of responses

        /start <user_token> will associate the user id by which <user_token> belongs to the chat.id received from Telegram API.
        /stop will remove that association

        A single user can have multiple active instances.
    parameters: []
  /email:
    post:
      summary: Send an email notification
      operationId: post-email
      responses:
        '200':
          description: OK
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailNotification'
        description: ''
components:
  schemas:
    TelegramNotification:
      title: TelegramNotification
      type: object
      description: ''
      x-examples: {}
      properties:
        to:
          description: Unique identifier for the given user.
          type: string
        message:
          type: string
        event:
          $ref: ./CalendarService.v1.yaml#/components/schemas/Event
      required:
        - to
        - message
    EmailNotification:
      title: EmailNotification
      type: object
      properties:
        to:
          type: string
        message:
          type: string
        subject:
          type: string
        event:
          $ref: ./CalendarService.v1.yaml#/components/schemas/Event
      required:
        - to
        - message
        - subject
